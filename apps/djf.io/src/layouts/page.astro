---
import {css} from '../../styled-system/css'
import type {CollectionEntry} from 'astro:content'
import BaseLayout from './base-layout.astro'

interface Props {
  page: CollectionEntry<'pages'>
}

const {page} = Astro.props
const {title, description} = page.data
---

<BaseLayout title={title} description={description}>
  <article>
    <header
      class={css({
        mb: '8',
      })}
    >
      <h1
        class={css({
          fontSize: {base: '2xl', md: '3xl'},
          fontWeight: 'bold',
          lineHeight: 'tight',
        })}
      >
        {title}
      </h1>
    </header>

    <div
      class={css({
        '& h2': {
          fontSize: 'xl',
          fontWeight: 'bold',
          mt: '8',
          mb: '4',
        },
        '& h3': {
          fontSize: 'lg',
          fontWeight: 'semibold',
          mt: '6',
          mb: '3',
        },
        '& p': {
          mb: '4',
        },
        '& ul, & ol': {
          mb: '4',
          pl: '6',
        },
        '& li': {
          mb: '2',
        },
        '& a': {
          color: 'fg.default',
          textDecoration: 'underline',
          textUnderlineOffset: '2px',
          _hover: {
            color: 'fg.muted',
          },
        },
        '& blockquote': {
          borderLeft: '4px solid',
          borderColor: 'border.default',
          pl: '4',
          fontStyle: 'italic',
          color: 'fg.muted',
          my: '4',
        },
        '& pre': {
          bg: 'bg.muted',
          p: '4',
          borderRadius: 'md',
          overflowX: 'auto',
          my: '4',
          fontSize: 'sm',
        },
        '& code': {
          fontFamily: 'monospace',
        },
        '& :not(pre) > code': {
          bg: 'bg.muted',
          px: '1',
          py: '0.5',
          borderRadius: 'sm',
          fontSize: 'sm',
        },
        '& hr': {
          border: 'none',
          borderTop: '1px solid',
          borderColor: 'border.default',
          my: '8',
        },
        '& img': {
          maxWidth: '100%',
          height: 'auto',
          borderRadius: 'md',
        },
      })}
    >
      <slot />
    </div>
  </article>
</BaseLayout>
